[gd_scene load_steps=4 format=2]

[ext_resource path="res://assets/UI/teladefeedback.png" type="Texture" id=1]
[ext_resource path="res://assets/minigame email/button_prox.png" type="Texture" id=2]

[sub_resource type="GDScript" id=1]
script/source = "extends Node2D
var total = Global.Ativa + Global.Passiva + Global.PassivaAgressiva

func _ready() -> void:
	$Assertiva.text = str(Global.Ativa)
	$BarraAs/Tween.interpolate_property(
		$BarraAs, \"rect_size\", Vector2(0, 65), Vector2((500 / total) * Global.Ativa, 65), 3, 
		Tween.TRANS_LINEAR, Tween.EASE_OUT
	)
	$BarraAs/Tween.start()
	
	$Passiva.text = str(Global.Passiva)
	$BarraP/Tween.interpolate_property(
		$BarraP, \"rect_size\", Vector2(0, 65), Vector2((500 / total) * Global.Passiva, 65), 3, 
		Tween.TRANS_LINEAR, Tween.EASE_OUT
	)
	$BarraP/Tween.start()
	
	$PassivoAgressivas.text = str(Global.PassivaAgressiva)
	$BarraAg/Tween.interpolate_property(
		$BarraAg, \"rect_size\", Vector2(0, 65), Vector2((500 / total) * Global.PassivaAgressiva, 65), 3, 
		Tween.TRANS_LINEAR, Tween.EASE_OUT
	)
	$BarraAg/Tween.start()
	
	$RichTextLabel.percent_visible = 0
	$RichTextLabel/Tween.interpolate_property(
		$RichTextLabel, \"percent_visible\", 0, 1, 7, Tween.TRANS_LINEAR, Tween.EASE_OUT
	)
	$RichTextLabel/Tween.start()
	
	if Global.Ativa > Global.Passiva and Global.Ativa > Global.PassivaAgressiva:
		$RichTextLabel.text = \"Seu desempenho mais recente na CoWo mostrou que sua comunicação é principalmente assertiva. Parabéns! É importante que você continue se desenvolvendo para manter sua comunicação assertiva e as interações de trabalho positivas.\"
	if Global.Passiva > Global.PassivaAgressiva and Global.Passiva > Global.Ativa:
		$RichTextLabel.text = \"Com base em seu último desempenho na CoWo, notamos que sua comunicação tem sido predominantemente passiva. É importante ressaltar que uma comunicação assertiva poderia melhorar a clareza e efetividade das suas mensagens. Desse modo, é importante que você tente desenvolver a confiança na hora de expressar suas ideias, aprimorando suas habilidades de comunicação e melhorando suas interações no trabalho.\"
	if Global.PassivaAgressiva > Global.Passiva and Global.PassivaAgressiva > Global.Ativa:
		$RichTextLabel.text = \"A partir da análise do seu desempenho mais recente na CoWo, percebemos que sua comunicação é predominantemente passiva-agressiva. É importante destacar que essa forma de comunicação pode ser prejudicial para as interações de trabalho e para a sua imagem profissional. Desse modo, praticar uma comunicação mais direta e transparente pode ser fundamental para se expressar de forma assertiva e se tornar um profissional ainda mais competente.\"


func _on_TextureButton_pressed() -> void:
	if Global.fase == 1:
		get_tree().change_scene(\"res://src/Facundes/Cena1Facundes.tscn\")


func _on_Tween_tween_completed(object: Object, key: NodePath) -> void:
	if Global.fase == 1:
		$TextureButton.show()
"

[node name="Node2D" type="Node2D"]
position = Vector2( 1174, 577 )
script = SubResource( 1 )

[node name="Teladefeedback" type="Sprite" parent="."]
position = Vector2( 76, 7.99998 )
scale = Vector2( 1.30208, 1.3 )
texture = ExtResource( 1 )

[node name="Assertiva" type="Label" parent="."]
margin_left = -708.0
margin_top = 309.0
margin_right = -692.0
margin_bottom = 323.0
rect_scale = Vector2( 4, 4 )
custom_colors/font_color = Color( 0, 0, 0, 1 )

[node name="BarraAs" type="ColorRect" parent="."]
margin_left = -640.0
margin_top = 302.0
margin_right = -640.0
margin_bottom = 367.0
color = Color( 0.552941, 0.788235, 0.317647, 1 )

[node name="Tween" type="Tween" parent="BarraAs"]

[node name="Passiva" type="Label" parent="."]
margin_left = -708.0
margin_top = 84.0
margin_right = -691.0
margin_bottom = 98.0
rect_scale = Vector2( 4, 4 )
custom_colors/font_color = Color( 0, 0, 0, 1 )

[node name="BarraP" type="ColorRect" parent="."]
margin_left = -637.0
margin_top = 78.0
margin_right = -637.0
margin_bottom = 143.0
color = Color( 0.262745, 0.611765, 0.776471, 1 )

[node name="Tween" type="Tween" parent="BarraP"]

[node name="PassivoAgressivas" type="Label" parent="."]
margin_left = -706.0
margin_top = -105.0
margin_right = -690.0
margin_bottom = -91.0
rect_scale = Vector2( 4, 4 )
custom_colors/font_color = Color( 0, 0, 0, 1 )

[node name="BarraAg" type="ColorRect" parent="."]
margin_left = -636.0
margin_top = -112.0
margin_right = -636.0
margin_bottom = -47.0
color = Color( 0.901961, 0.356863, 0.427451, 1 )

[node name="Tween" type="Tween" parent="BarraAg"]

[node name="RichTextLabel" type="RichTextLabel" parent="."]
margin_left = 34.0
margin_top = -233.0
margin_right = 327.0
margin_bottom = 2.0
rect_scale = Vector2( 2.4, 2.4 )
custom_colors/default_color = Color( 0, 0, 0, 1 )

[node name="Tween" type="Tween" parent="RichTextLabel"]

[node name="TextureButton" type="TextureButton" parent="."]
visible = false
margin_left = 383.0
margin_top = 292.0
margin_right = 795.0
margin_bottom = 455.0
texture_normal = ExtResource( 2 )
texture_pressed = ExtResource( 2 )

[connection signal="tween_completed" from="RichTextLabel/Tween" to="." method="_on_Tween_tween_completed"]
[connection signal="pressed" from="TextureButton" to="." method="_on_TextureButton_pressed"]
